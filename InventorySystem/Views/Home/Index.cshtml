@model InventorySystem.Models.ViewModels.HomeViewModel

@{
    ViewBag.Title = "Panel";
    Layout = "~/Views/Shared/_Layout.cshtml";

}

<div class="row">
    <div class="col-md-3 col-sm-6 col-xs-12">
        <div class="info-box bg-purple">
            <span class="info-box-icon"><i class="fa fa-tags"></i></span>
            <div class="info-box-content">
                <span class="info-box-text">Inventario Absoluto</span>
                <span class="info-box-number">@Model.AbsoluteInventary</span>
                <div class="progress">
                    <div class="progress-bar" style="width: 100%"></div>
                </div>
                <span class="progress-description">
                    Productos en stock: @Model.TotalProducts
                </span>
            </div><!-- /.info-box-content -->
        </div><!-- /.info-box -->
    </div>
    <!-- /.col -->
    <div class="col-md-3 col-sm-6 col-xs-12">
        <div class="info-box bg-green">
            <span class="info-box-icon"><i class="fa fa-money"></i></span>
            <div class="info-box-content">
                <span class="info-box-text">Ventas 2018</span>
                <span class="info-box-number">@Model.SellsCash</span>
                <div class="progress">
                    <div class="progress-bar" style="width: 100%"></div>
                </div>
                <span class="progress-description">
                    Ventas emitidas: @Model.SellsTotal
                </span>
            </div><!-- /.info-box-content -->
        </div><!-- /.info-box -->
    </div>
    <!-- /.col -->
    <!-- fix for small devices only -->
    <div class="clearfix visible-sm-block"></div>
    <div class="col-md-3 col-sm-6 col-xs-12">
        <div class="info-box bg-yellow">
            <span class="info-box-icon"><i class="fa fa-shopping-cart"></i></span>
            <div class="info-box-content">
                <span class="info-box-text">Compras 2018</span>
                <span class="info-box-number">@Model.PurshaseCash</span>
                <div class="progress">
                    <div class="progress-bar" style="width: 100%"></div>
                </div>
                <span class="progress-description">
                    Compras realizadas: @Model.PurchaseTotal
                </span>
            </div><!-- /.info-box-content -->
        </div><!-- /.info-box -->
    </div>
    <!-- /.col -->
    <div class="col-md-3 col-sm-6 col-xs-12">
        <div class="info-box bg-aqua">
            <span class="info-box-icon"><i class="fa fa-users "></i></span>
            <div class="info-box-content">
                <span class="info-box-text">Clientes</span>
                <span class="info-box-number">@Model.Clients </span>
                <div class="progress">
                    <div class="progress-bar" style="width: 100%"></div>
                </div>
                <span class="progress-description">
                    Clientes nuevos: @Model.NewClients
                </span>
            </div><!-- /.info-box-content -->
        </div><!-- /.info-box -->
    </div>
    <!-- /.col -->
</div>
<div class="row">
    <div class="col-md-12">
        <div class="box">
            <div class="box-header with-border">
                <h3 class="box-title">Reporte de ventas 2018</h3>
                <div class="box-tools pull-right">
                    <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    <button class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                </div>
            </div><!-- /.box-header -->
            <div class="box-body">
                <div class="row">
                    <div class="col-md-8">
                        <p class="text-center">
                            <strong>Compras &amp; Ventas 2018</strong>
                        </p>
                        <div class="chart">
                            <canvas id="barChart" style="height: 380px; width: 816px;" width="1020" height="475"></canvas>
                        </div>
                    </div><!-- /.col -->
                    <div class="col-md-4">
                        <!-- Info Boxes Style 2 -->
                        <!--ENDING PRODUCT LIST -->
                        <div class="box box-primary">
                            <div class="box-header ">
                                <h3 class="box-title color">Productos acabándose</h3>
                            </div><!-- /.box-header -->
                            <div class="box-body">
                                <ul class="products-list product-list-in-box">
                                    @foreach (var item in Model.ProductsFinishing)
                                    {
                                        <li class="item">
                                            @*<div class="product-img">
                                                <img src="img/productos/product.png" alt="Product Image">
                                            </div>*@
                                            <div class="product-info">
                                                <a href="@Url.Action("Edit", "Product",new { id= item.product_id })" class="product-title"> @Html.DisplayFor(modelItem => item.name)<span class="label label-danger pull-right">Restantes: @Html.DisplayFor(modelItem => item.existence) </span></a>
                                                <span class="product-description">
                                                    @Html.DisplayFor(modelItem => item.description)
                                                </span>
                                            </div>
                                        </li><!-- /.item -->
                                    }
                                </ul>
                            </div><!-- /.box-body -->
                            <div class="box-footer text-center">
                                <a href="@Url.Action("Index", "Product")" class="uppercase">Ver todos los productos</a>
                            </div><!-- /.box-footer -->
                        </div><!-- /.box -->
                    </div><!-- /.col -->
                </div><!-- /.row -->
            </div><!-- ./box-body -->
            <div class="box-footer">
            </div><!-- /.box-footer -->
        </div><!-- /.box -->
    </div><!-- /.col -->


</div><!-- /.col -->

<div class="row">
    <!-- Left col -->
    <div class="col-md-8">
        <!-- TABLE: LATEST ORDERS -->
        <div class="box box-info">
            <div class="box-header with-border">
                <h3 class="box-title">Últimas ventas</h3>
                <div class="box-tools pull-right">
                    <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    <button class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                </div>
            </div><!-- /.box-header -->
            <div class="box-body">
                <div class="table-responsive">
                    <table class="table no-margin">
                        <tr>
                            <th>
                                @Html.DisplayNameFor(model => model.Sell.Id)
                            </th>
                            <th>
                                Cliente
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.Sell.creation_Date)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.Sell.total)
                            </th>
                        </tr>
                        @foreach (var item in Model.LastSales)
                        {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Id)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Person_t.name)
                            </td>
                            <td>
                                @DateTime.Now
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.total)
                            </td>
                        </tr>
                        }
                    </table>
                </div><!-- /.table-responsive -->
            </div><!-- /.box-body -->
            <div class="box-footer clearfix">
                <a href="@Url.Action("Create", "Sell")" class="btn btn-sm btn-default btn-flat pull-left">Nueva venta</a>
                @*<a href="manage_invoice.php" class="btn btn-sm btn-default btn-flat pull-right">Ver todas las facturas</a>*@
            </div><!-- /.box-footer -->
        </div><!-- /.box -->
    </div><!-- /.col -->
    <div class="col-md-4">

        <!-- PRODUCT LIST -->
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">Nuevos productos</h3>
                <div class="box-tools pull-right">
                    <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    <button class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                </div>
            </div><!-- /.box-header -->
            <div class="box-body">
                <ul class="products-list product-list-in-box">
                    @foreach (var item in Model.NewProducts)
                    {
                        <li class="item">
                            @*<div class="product-img">
                    <img src="img/productos/product.png" alt="Product Image">
                </div>*@
                            <div class="product-info">
                                <a href="@Url.Action("Edit", "Product",new { id= item.product_id })" class="product-title"> @Html.DisplayFor(modelItem => item.name)<span class="label label-info pull-right">Precio: @Html.DisplayFor(modelItem => item.price)</span></a>
                                <span class="product-description">
                                    @Html.DisplayFor(modelItem => item.description)
                                </span>
                            </div>
                        </li><!-- /.item -->
                    }
                </ul>
            </div><!-- /.box-body -->
            <div class="box-footer text-center">
                <a href="@Url.Action("Index", "Product")" class="uppercase">Ver todos los productos</a>
            </div><!-- /.box-footer -->
        </div><!-- /.box -->
    </div><!-- /.col -->
</div>